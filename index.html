<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Music Playlist Visualizer</title>
  <meta name="description" content="A lightweight music playlist visualizer with search, filters and playback controls.">
    <link rel="icon" href="favicon.ico">
    <meta property="og:title" content="Music Playlist Visualizer">
    <meta property="og:description" content="A lightweight music playlist visualizer with search, filters and playback controls.">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- SVG icon sprite -->
  <svg aria-hidden="true" style="display:none">
    <symbol id="icon-search" viewBox="0 0 24 24"><circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="2" fill="none"/><line x1="21" y1="21" x2="16.65" y2="16.65" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></symbol>
    <symbol id="icon-add" viewBox="0 0 24 24"><rect x="11" y="5" width="2" height="14" rx="1" fill="currentColor"/><rect x="5" y="11" width="14" height="2" rx="1" fill="currentColor"/></symbol>
    <symbol id="icon-prev" viewBox="0 0 24 24"><polygon points="11 12 20 18 20 6" fill="currentColor"/><rect x="4" y="6" width="3" height="12" rx="1" fill="currentColor"/></symbol>
    <symbol id="icon-next" viewBox="0 0 24 24"><polygon points="13 12 4 6 4 18" fill="currentColor"/><rect x="17" y="6" width="3" height="12" rx="1" fill="currentColor"/></symbol>
    <symbol id="icon-undo" viewBox="0 0 24 24"><path d="M9 9L4 12l5 3V13h7a5 5 0 0 1 0 10" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></symbol>
    <symbol id="icon-redo" viewBox="0 0 24 24"><path d="M15 9l5 3-5 3v-5H3a9 9 0 0 0 9 9" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></symbol>
    <symbol id="icon-fire" viewBox="0 0 24 24"><path d="M12 2s1.5 3 1.5 5.5S12 11 12 13s2-1 2-3 1.5-6 1.5-6S12 6 12 2z" fill="currentColor"/></symbol>
    <symbol id="icon-clock" viewBox="0 0 24 24"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2" fill="none"/><path d="M12 7v6l4 2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/></symbol>
    <symbol id="icon-all" viewBox="0 0 24 24"><rect x="4" y="6" width="16" height="2" rx="1" fill="currentColor"/><rect x="4" y="11" width="16" height="2" rx="1" fill="currentColor"/><rect x="4" y="16" width="16" height="2" rx="1" fill="currentColor"/></symbol>
    <symbol id="icon-export" viewBox="0 0 24 24"><path d="M12 3v12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/><path d="M8 7l4-4 4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/><rect x="3" y="17" width="18" height="4" rx="1" fill="none" stroke="currentColor" stroke-width="2"/></symbol>
    <symbol id="icon-import" viewBox="0 0 24 24"><path d="M12 21V9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/><path d="M16 13l-4 4-4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/><rect x="3" y="3" width="18" height="4" rx="1" fill="none" stroke="currentColor" stroke-width="2"/></symbol>
    <symbol id="icon-play" viewBox="0 0 24 24"><polygon points="5 3 19 12 5 21" fill="currentColor"/></symbol>
    <symbol id="icon-pause" viewBox="0 0 24 24"><rect x="6" y="4" width="4" height="16" rx="1" fill="currentColor"/><rect x="14" y="4" width="4" height="16" rx="1" fill="currentColor"/></symbol>
    <symbol id="icon-delete" viewBox="0 0 24 24"><path d="M3 6h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M8 6v14a2 2 0 0 0 2 2h4a2 2 0 0 0 2-2V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/><path d="M10 11v6M14 11v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></symbol>
  </svg>
  <header>
    <h1>Music Playlist Visualizer</h1>
  </header>

  <main>
    <div class="container">
    <section class="controls">
      <input type="text" id="search" placeholder="Search..." aria-label="Search songs">
      <div class="add-row">
        <input type="text" id="title" placeholder="Song Title">
        <input type="text" id="artist" placeholder="Artist">
        <input type="text" id="duration" placeholder="Duration (mm:ss)">
        <input type="text" id="art" placeholder="Album art URL (optional)">
        <button id="addBtn" aria-label="Add song"><svg class="icon"><use href="#icon-add"></use></svg><span class="btn-label">Add</span></button>
      </div>

      <div class="playback-row">
        <button id="prevBtn" aria-label="Previous"><svg class="icon"><use href="#icon-prev"></use></svg><span class="btn-label">Prev</span></button>
        <button id="nextBtn" aria-label="Next"><svg class="icon"><use href="#icon-next"></use></svg><span class="btn-label">Next</span></button>
        <button id="undoBtn" aria-label="Undo"><svg class="icon"><use href="#icon-undo"></use></svg><span class="btn-label">Undo</span></button>
        <button id="redoBtn" aria-label="Redo"><svg class="icon"><use href="#icon-redo"></use></svg><span class="btn-label">Redo</span></button>
      </div>

      <div class="filter-row">
        <button id="mostPlayedBtn" aria-pressed="false"><svg class="icon"><use href="#icon-fire"></use></svg><span class="btn-label">Most Played</span></button>
        <button id="recentlyPlayedBtn" aria-pressed="false"><svg class="icon"><use href="#icon-clock"></use></svg><span class="btn-label">Recently</span></button>
        <button id="allBtn" aria-pressed="true"><svg class="icon"><use href="#icon-all"></use></svg><span class="btn-label">All</span></button>
      </div>

      <div class="io-row">
        <button id="exportBtn" aria-label="Export"><svg class="icon"><use href="#icon-export"></use></svg><span class="btn-label">Export</span></button>
        <button id="importBtn" aria-label="Import"><svg class="icon"><use href="#icon-import"></use></svg><span class="btn-label">Import</span></button>
        <input id="importFile" type="file" accept="application/json" style="display:none">
      </div>
    </section>

    <!-- Templates for rendering -->
    <template id="alpha-template">
      <div class="alphabet" role="separator"></div>
    </template>

    <template id="song-template">
      <div class="song" role="listitem" tabindex="0">
        <div class="left-wrap">
          <img class="thumb" src="" alt="album art">
          <div class="meta">
            <div class="title"></div>
            <div class="sub"></div>
          </div>
        </div>
        <button class="delete-btn" aria-label="Delete song"><svg class="icon"><use href="#icon-delete"></use></svg></button>
      </div>
    </template>

    <section class="playlist" id="playlist" aria-live="polite"></section>
    </div>
  </main>

  <section class="now-playing" id="nowPlaying" aria-live="polite">
    <div class="now-playing-inner container">
      <div class="np-left">
        <div class="np-title" id="nowPlayingTitle">Not playing</div>
        <div class="np-artist" id="nowPlayingArtist"></div>
      </div>
      <div class="np-controls">
        <button id="playPauseBtn" aria-label="Play" class="icon-btn">▶️</button>
        <div class="progress-wrap">
          <div id="progressBar" class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
            <div id="progressFill" class="progress"></div>
          </div>
          <div class="time"><span id="timeElapsed">0:00</span> / <span id="timeDuration">0:00</span></div>
        </div>
      </div>
    </div>
  </section>

  <audio id="audio" preload="metadata"></audio>

  <div id="toastContainer" class="toast-container" aria-live="polite" aria-atomic="true"></div>

  <script src="script.js" defer></script>
  <script type="module" src="main.js"></script>
</body>
</html>
